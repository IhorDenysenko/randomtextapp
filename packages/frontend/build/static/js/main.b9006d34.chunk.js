(this["webpackJsonp@randomtext/frontend"]=this["webpackJsonp@randomtext/frontend"]||[]).push([[0],{129:function(e,t){},148:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketEvents={JOIN_ROOM:"JOIN_ROOM",RECEIVE_MESSAGE:"RECEIVE_MESSAGE",LEAVE_ROOM:"LEAVE_ROOM",JOINED_CHAT:"JOINED_CHAT",LEFT_CHAT:"LEFT_CHAT",SEND_MESSAGE:"SEND_MESSAGE"}},150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),i=a(14),m=a(79),l=a(181),u=a(183),s=a(31),E=a(184),h=a(195),f=a(186),p=(a(40),Object(m.a)((function(e){return{paper:{marginTop:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center",width:300,height:300},card_content:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(3)},submit:{marginTop:e.spacing(2),height:50},mainPart:{marginTop:e.spacing(5)}}}))),d=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],m=p();return r.a.createElement(l.a,{className:m.paper},r.a.createElement(u.a,{className:m.card_content},r.a.createElement(s.a,{gutterBottom:!0,component:"h1",variant:"h4"},"Sign in"),r.a.createElement(E.a,{orientation:"horizontal"}),r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",className:m.mainPart,autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:m.submit,onClick:function(t){t.preventDefault(),""!==c&&e.onUsernameChange(c)}},"Sign In")))},g=a(85),v=a(30),O=a.n(v),b=a(82),_=a.n(b),C=a(48),S=a.n(C),j=a(16),I=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL?Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL:"",N=_()(I),x=a(188),A=a(84),k=a.n(A),w=a(83),y=a.n(w),T=a(196),L=a(187),M=a(185),R=a(189),D=a(190),P=a(191),U=Object(m.a)((function(e){return Object(T.a)({card:{height:440,width:500,display:"flex",flexDirection:"column",alignItems:"center"},card_content:{backgroundColor:e.palette.background.paper,width:500},chatroom_list:{height:295,overflow:"auto",width:500},footer:{bootom:0}})})),V=function(e){return r.a.createElement(L.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(L.a,{item:!0,xs:11},r.a.createElement(s.a,{gutterBottom:!0,variant:"h4",component:"h2"}," ",e.name," ")),r.a.createElement(L.a,{item:!0,xs:1},r.a.createElement(x.a,{onClick:function(t){var a,n;t.preventDefault(),a=e.username,n=e.name,N.emit(j.SocketEvents.LEAVE_ROOM,{author:a,chat:n}),e.handleLeaveChat("")}},r.a.createElement(y.a,null))))},J=function(e){var t=U(),a=Object(n.useState)([]),c=Object(i.a)(a,2),o=c[0],m=c[1];return Object(n.useEffect)((function(){var e;return e=function(e){m([].concat(Object(g.a)(o),[e]))},N.on(j.SocketEvents.RECEIVE_MESSAGE,(function(t){return e(t)})),function(){N.off(j.SocketEvents.RECEIVE_MESSAGE)}}),[o]),Object(n.useEffect)((function(){var t,a;t=e.name,a=function(e){console.log(e),m(e)},O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(S.a.get(I+"/api/chatrooms/"+t).then((function(e){var t=e.data;a(t)})));case 2:case"end":return e.stop()}}))}),[e.name]),r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(M.a,{className:t.chatroom_list},r.a.createElement(L.a,{item:!0,xs:12},o.map((function(e){return r.a.createElement(R.a,null,r.a.createElement(D.a,{primary:e}))}))))))},G=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1];return r.a.createElement(L.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(E.a,{orientation:"horizontal"})),r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,id:"message",label:"Message",name:"message",autoComplete:"message",autoFocus:!0,fullWidth:!0,value:c,onChange:function(e){return o(e.target.value)},InputProps:{endAdornment:r.a.createElement(P.a,{position:"end"},r.a.createElement(x.a,{onClick:function(t){t.preventDefault(),""!==c&&(!function(e,t,a){N.emit(j.SocketEvents.SEND_MESSAGE,{author:e,message:a,chat:t})}(e.username,e.name,c),o(""))}},r.a.createElement(k.a,null)))}})))},B=function(e){var t=U();return r.a.createElement(l.a,{className:t.card},r.a.createElement(u.a,{className:t.card_content},r.a.createElement(V,{username:e.username,name:e.name,handleLeaveChat:e.handleLeaveChat}),r.a.createElement(E.a,{orientation:"horizontal"}),r.a.createElement(J,{name:e.name}),r.a.createElement(G,{username:e.username,name:e.name})))},F=Object(m.a)((function(e){return Object(T.a)({paper:{height:440,width:500,marginTop:e.spacing(12),display:"flex",flexDirection:"column",alignItems:"center"},paper_content:{marginTop:e.spacing(24),alignItems:"center"}})})),H=function(e){var t=F();return r.a.createElement(l.a,{className:t.paper},""!==e.name?r.a.createElement(B,{username:e.username,name:e.name,handleLeaveChat:e.handleLeaveChat}):r.a.createElement(s.a,{className:t.paper_content,variant:"h4",component:"h2"}," Join Chat And Start Messaging "))},W=a(192),z=Object(m.a)((function(e){return Object(T.a)({card:{height:440,width:300,marginTop:e.spacing(12),marginRight:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},card_content:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(1),width:300},chatroom_list:{maxHeight:350,overflow:"auto",width:300},button:{display:"block",width:"100%"}})})),q=function(){var e=z();return r.a.createElement(u.a,{className:e.card_content},r.a.createElement(s.a,{gutterBottom:!0,variant:"h4",component:"h2"}," Chatrooms "),r.a.createElement(E.a,{orientation:"horizontal"}))},K=function(e){var t=z(),a=function(e){var t=e.getAttribute("value");return t||""},n=function(t){var n,r;t.preventDefault(),n=e.username,r=a(t.currentTarget),N.emit(j.SocketEvents.JOIN_ROOM,{author:n,chat:r}),e.handleChangeChat(a(t.currentTarget))};return r.a.createElement(M.a,{className:t.chatroom_list},e.chatrooms.map((function(e){return r.a.createElement(R.a,null,r.a.createElement(f.a,{onClick:n,color:"primary",value:e,name:e,fullWidth:!0,variant:"contained"},e))})))},Q=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],m=z();return Object(n.useEffect)((function(){var e;e=function(e){o(e)},O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(S.a.get(I+"/api/chatrooms").then((function(t){var a=t.data;e(a)})));case 2:case"end":return t.stop()}}))}),[]),r.a.createElement(l.a,{className:m.card},r.a.createElement(q,null),r.a.createElement(W.a,null,r.a.createElement(K,{username:e.username,chatrooms:c,handleChangeChat:e.handleChangeChat})))},X=a(193),Y=a(194),Z=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),l=m[0],u=m[1],s=function(e){return u(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,null),r.a.createElement(Y.a,{maxWidth:"md"},""!==a?r.a.createElement(L.a,{container:!0,alignItems:"center"},r.a.createElement(Q,{username:a,handleChangeChat:s}),r.a.createElement(H,{username:a,name:l,handleLeaveChat:s})):r.a.createElement(L.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(d,{onUsernameChange:function(e){return c(e)}}))))};o.a.render(r.a.createElement(Z,null),document.getElementById("root"))},16:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])}(a(148))},92:function(e,t,a){e.exports=a(150)}},[[92,1,2]]]);
//# sourceMappingURL=main.b9006d34.chunk.js.map