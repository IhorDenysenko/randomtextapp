{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\ihord\\\\WebstormProjects\\\\randomtextapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Chat from'./Chat';import{makeStyles,createStyles,Typography,Card}from'@material-ui/core';import{subscribeToOnJoined,unsubscribeToOnJoined,subscribeToLeftChat,unsubscribeToLeftChat,leaveChatRoom}from'../api/SocketAPI';var useStyles=makeStyles(function(theme){return createStyles({paper:{height:440,width:500,marginTop:theme.spacing(12),display:'flex',flexDirection:'column',alignItems:'center'},paper_content:{marginTop:theme.spacing(24),alignItems:'center'}});});var ChatContainer=function ChatContainer(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),chatname=_useState2[0],setChatname=_useState2[1];var classes=useStyles();useEffect(function(){subscribeToOnJoined(function(data){if(chatname!==''){leaveChatRoom(props.username,chatname);setChatname('');}setChatname(data.chat);});return function(){unsubscribeToOnJoined();};},[chatname]);useEffect(function(){subscribeToLeftChat(function(data){if(chatname===data.chat){setChatname('');}});return function(){unsubscribeToLeftChat();};},[chatname]);return React.createElement(Card,{className:classes.paper},chatname!==''?React.createElement(Chat,{username:props.username,name:chatname}):React.createElement(Typography,{className:classes.paper_content,variant:\"h4\",component:\"h2\"},\" Join Chat And Start Messaging \"));};export default ChatContainer;","map":{"version":3,"sources":["C:/Users/ihord/WebstormProjects/randomtextapp/packages/frontend/src/chat/ChatContainer.tsx"],"names":["React","useState","useEffect","Chat","makeStyles","createStyles","Typography","Card","subscribeToOnJoined","unsubscribeToOnJoined","subscribeToLeftChat","unsubscribeToLeftChat","leaveChatRoom","useStyles","theme","paper","height","width","marginTop","spacing","display","flexDirection","alignItems","paper_content","ChatContainer","props","chatname","setChatname","classes","data","username","chat"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAASC,UAAT,CAAqBC,YAArB,CAA0CC,UAA1C,CAAsDC,IAAtD,KAAiE,mBAAjE,CACA,OACIC,mBADJ,CAEIC,qBAFJ,CAGIC,mBAHJ,CAIIC,qBAJJ,CAKIC,aALJ,KAMO,kBANP,CASA,GAAMC,CAAAA,SAAS,CAAGT,UAAU,CAAC,SAACU,KAAD,QAC3BT,CAAAA,YAAY,CAAC,CACXU,KAAK,CAAE,CACHC,MAAM,CAAE,GADL,CAEHC,KAAK,CAAE,GAFJ,CAGHC,SAAS,CAAEJ,KAAK,CAACK,OAAN,CAAc,EAAd,CAHR,CAIHC,OAAO,CAAE,MAJN,CAKHC,aAAa,CAAE,QALZ,CAMHC,UAAU,CAAE,QANT,CADI,CASXC,aAAa,CAAE,CACXL,SAAS,CAAEJ,KAAK,CAACK,OAAN,CAAc,EAAd,CADA,CAEXG,UAAU,CAAE,QAFD,CATJ,CAAD,CADe,EAAD,CAA5B,CAsBA,GAAME,CAAAA,aAA8B,CAAG,QAAjCA,CAAAA,aAAiC,CAACC,KAAD,CAAkB,eAErBxB,QAAQ,CAAC,EAAD,CAFa,wCAE9CyB,QAF8C,eAEpCC,WAFoC,eAGrD,GAAMC,CAAAA,OAAO,CAAGf,SAAS,EAAzB,CAEAX,SAAS,CAAC,UAAM,CAEZM,mBAAmB,CAAC,SAACqB,IAAD,CAAyB,CAEzC,GAAGH,QAAQ,GAAK,EAAhB,CAAmB,CAEfd,aAAa,CAACa,KAAK,CAACK,QAAP,CAAiBJ,QAAjB,CAAb,CACAC,WAAW,CAAC,EAAD,CAAX,CACH,CAEDA,WAAW,CAACE,IAAI,CAACE,IAAN,CAAX,CACH,CATkB,CAAnB,CAWA,MAAM,WAAM,CACRtB,qBAAqB,GACxB,CAFD,CAGH,CAhBQ,CAgBP,CAACiB,QAAD,CAhBO,CAAT,CAkBAxB,SAAS,CAAC,UAAM,CAEZQ,mBAAmB,CAAC,SAACmB,IAAD,CAAU,CAE1B,GAAGH,QAAQ,GAAKG,IAAI,CAACE,IAArB,CAA0B,CACtBJ,WAAW,CAAC,EAAD,CAAX,CACH,CAEJ,CANkB,CAAnB,CAQA,MAAM,WAAM,CACRhB,qBAAqB,GACxB,CAFD,CAGH,CAbQ,CAaP,CAACe,QAAD,CAbO,CAAT,CAeA,MACI,qBAAC,IAAD,EAAM,SAAS,CAAEE,OAAO,CAACb,KAAzB,EAEQW,QAAQ,GAAK,EAAb,CACQ,oBAAC,IAAD,EAAM,QAAQ,CAAED,KAAK,CAACK,QAAtB,CAAgC,IAAI,CAAEJ,QAAtC,EADR,CAMQ,oBAAC,UAAD,EAAY,SAAS,CAAEE,OAAO,CAACL,aAA/B,CAA8C,OAAO,CAAC,IAAtD,CAA2D,SAAS,CAAC,IAArE,oCARhB,CADJ,CAcH,CApDD,CAsDA,cAAeC,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Chat from './Chat';\r\nimport { makeStyles, createStyles, Theme, Typography, Card} from '@material-ui/core';\r\nimport {\r\n    subscribeToOnJoined,\r\n    unsubscribeToOnJoined,\r\n    subscribeToLeftChat,\r\n    unsubscribeToLeftChat,\r\n    leaveChatRoom\r\n} from '../api/SocketAPI';\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    paper: {\r\n        height: 440,\r\n        width: 500,\r\n        marginTop: theme.spacing(12),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n    },\r\n    paper_content: {      \r\n        marginTop: theme.spacing(24),\r\n        alignItems: 'center'\r\n    },\r\n  }),\r\n);\r\n\r\n\r\ninterface Props {\r\n    username: string;\r\n}\r\n\r\nconst ChatContainer: React.FC<Props> = (props: Props) => {\r\n\r\n    const [chatname, setChatname] = useState('');\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n\r\n        subscribeToOnJoined((data:{chat: string}) => {\r\n\r\n            if(chatname !== ''){\r\n\r\n                leaveChatRoom(props.username, chatname);\r\n                setChatname('');\r\n            }\r\n\r\n            setChatname(data.chat);\r\n        });\r\n\r\n        return() => {\r\n            unsubscribeToOnJoined();\r\n        };\r\n    },[chatname]);\r\n\r\n    useEffect(() => {\r\n\r\n        subscribeToLeftChat((data) => {\r\n\r\n            if(chatname === data.chat){\r\n                setChatname('');\r\n            }\r\n\r\n        });\r\n\r\n        return() => {\r\n            unsubscribeToLeftChat();\r\n        };\r\n    },[chatname]);\r\n\r\n    return (\r\n        <Card className={classes.paper}>\r\n            {\r\n                chatname !== '' ? (\r\n                        <Chat username={props.username} name={chatname}/>\r\n                    )\r\n                    :\r\n                    (\r\n                        \r\n                        <Typography className={classes.paper_content} variant=\"h4\" component=\"h2\"> Join Chat And Start Messaging </Typography>\r\n                    )\r\n            }\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ChatContainer;"]},"metadata":{},"sourceType":"module"}